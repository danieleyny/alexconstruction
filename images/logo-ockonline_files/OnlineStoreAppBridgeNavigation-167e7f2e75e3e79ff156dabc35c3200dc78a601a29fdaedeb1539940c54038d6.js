(self.webpackJsonp=self.webpackJsonp||[]).push([["OnlineStoreAppBridgeNavigation"],{"./app/sections/OnlineStore/EmbeddedApp/components/Navigation/index.ts":function(e,t,o){"use strict";o.r(t);var r=o("./node_modules/react/index.js"),n=o.n(r),i=o("./node_modules/react-router/esm/react-router.js"),s=o("./node_modules/@shopify/app-bridge-host/index.js"),a=o("./node_modules/@shopify/app-bridge/actions/Navigation/Redirect/index.js"),u=o("./node_modules/@shopify/app-bridge-host/components/Navigation/index.js"),c=o.n(u),d=o("./node_modules/@shopify/react-compose/build/esnext/index.esnext"),p=o("./packages/@web-utilities/shop/hook.ts"),l=o("./app/utilities/interop.ts"),f=o("./app/sections/OnlineStore/utilities/url.ts"),h=o("./app/sections/OnlineStore/EmbeddedApp/components/utils/withFrameReady.tsx"),m=o("./app/sections/OnlineStore/PartialRolloutProvider/hooks.ts");function R(e,t){return t===f.a?"":t}var v=Object(d.a)(Object(h.a)())((function({globalStore:e,frameReady:t}){const o=Object(i.i)(),{shopDomain:u}=Object(p.a)(),d=Object(r.useRef)(o),h=Object(r.useContext)(s.HostContext),{isRoutePartOfPartialRollout:v}=Object(m.a)();return Object(r.useEffect)((()=>{if(null!=h&&(o.hash!==d.current.hash||o.search!==d.current.search||o.pathname!==d.current.pathname))if(d.current=o,!v&&Object(l.b)(o.pathname)){const e=new URL(o.pathname,`https://${u}`);e.search=o.search,e.hash=o.hash,window.location.assign(e.toString())}else!async function(){await t;const e=v?`${o.pathname}${o.search}${o.hash}`:f.a;null==h||h.app.dispatch(Object(a.toApp)({path:e}))}()}),[o,h,v,t,u]),n.a.createElement(c.a,{globalStore:e,resolveAppUrl:R})}));t.default=v},"./node_modules/@shopify/app-bridge-host/components/Navigation/Navigation.js":function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;var n=o("./node_modules/react/index.js"),i=r(o("./node_modules/@shopify/react-compose/index.esnext")),s=o("./node_modules/@shopify/app-bridge/actions/index.js"),a=o("./node_modules/@shopify/app-bridge/validate/safe-redirect.js"),u=o("./node_modules/@shopify/app-bridge-host/components/utilities/appUrl.js"),c=r(o("./node_modules/@shopify/app-bridge-host/withFeature.js")),d=o("./node_modules/@shopify/app-bridge-host/store/reducers/embeddedApp/navigation/index.js"),p=o("./node_modules/@shopify/app-bridge-host/store/middlewares/mobile/helpers.js"),l=o("./node_modules/@shopify/app-bridge-host/hooks/index.js"),f=r(o("./node_modules/@shopify/app-bridge-host/components/Navigation/utilities/getResourceUrl.js")),h=r(o("./node_modules/@shopify/app-bridge-host/components/Navigation/utilities/resolver.js"));function m(e){var t=l.useRouterContext(),o=e.store.updateAction;return n.useEffect((function(){var o,r,n=e.resolveAppUrl,i=e.actions,c=e.store.updateAction,d=t.appRoot,l=t.hostname,m=t.history,R=t.location,v=R.pathname,y=R.search,b=""+v+y;if(!c)return;var _=c.type,g=c.target,w=c.payload;switch(g){case s.Redirect.Action.REMOTE:if(function(e){return e&&Object.prototype.hasOwnProperty.call(e,"url")}(w)&&(r=w.newContext,o=w.url,!r)){if(o===window.location.href)return void i.completeRouteUpdate();var O=new URL(o);return O.hostname!==l||p.isMobile()?a.isSafe(o)&&window.location.assign(o):m.push(""+O.pathname+O.search),void i.completeRouteUpdate()}break;case s.Redirect.Action.APP:if(function(e){return e&&Object.prototype.hasOwnProperty.call(e,"path")}(w)){var P=n||h.default.app;o=P(d,u.normalizeRelativePath(w.path))}break;case s.Redirect.Action.ADMIN_PATH:(function(e){return e&&Object.prototype.hasOwnProperty.call(e,"path")})(w)&&(o=""+h.default.home()+w.path,r=w.newContext);break;case s.Redirect.Action.ADMIN_SECTION:(function(e){return e&&Object.prototype.hasOwnProperty.call(e,"section")})(w)&&(o=f.default(h.default,w.section),r=w.newContext)}if(r)return window.open(o,"_blank"),void i.completeRouteUpdate();if(!o||b===o)return void i.completeRouteUpdate();switch(_){case s.History.Action.PUSH:m.push(o);break;case s.History.Action.REPLACE:m.replace(o);break;default:m.push(o)}i.completeRouteUpdate()}),[o]),null}t.Navigation=m,t.default=i.default(c.default(d.feature))(m)},"./node_modules/@shopify/app-bridge-host/components/Navigation/index.js":function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(o("./node_modules/@shopify/app-bridge-host/components/Navigation/Navigation.js"));t.default=n.default},"./node_modules/@shopify/app-bridge-host/components/Navigation/utilities/getResourceUrl.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderUrl=t.getCustomerUrl=t.getDiscountUrl=t.getCollectionUrl=t.getProductUrl=void 0;var r=o("./node_modules/@shopify/app-bridge/actions/index.js");function n(e,t){if(!t)return e.productIndex();if(r.Redirect.isProductVariantResourcePayload(t)){var o=t,n=o.id,i=o.variant;if(r.Redirect.isResourcePayload(i))return e.productVariantDetails(n,i.id);if(r.Redirect.isCreateResourcePayload(i))return e.productVariantNew(n)}return r.Redirect.isResourcePayload(t)?e.productDetails(t.id):r.Redirect.isCreateResourcePayload(t)?e.productNew():void 0}function i(e,t){return t?r.Redirect.isResourcePayload(t)?e.collectionShow(t.id):r.Redirect.isCreateResourcePayload(t)?e.collectionNew():void 0:e.collectionIndex()}function s(e,t){return t?r.Redirect.isResourcePayload(t)?e.discountShow(t.id):r.Redirect.isCreateResourcePayload(t)?e.discountNew():void 0:e.discountIndex()}function a(e,t){return t?r.Redirect.isResourcePayload(t)?e.customerShow(t.id):r.Redirect.isCreateResourcePayload(t)?e.customerCreate():void 0:e.customerIndex()}function u(e,t){return t?r.Redirect.isResourcePayload(t)?e.orderShow(t.id):r.Redirect.isCreateResourcePayload(t)?e.orderNew():void 0:e.orderIndex()}t.default=function(e,t){var o=t.name,c=t.resource;switch(o){case r.Redirect.ResourceType.Product:return n(e,c);case r.Redirect.ResourceType.Collection:return i(e,c);case r.Redirect.ResourceType.Order:return u(e,c);case r.Redirect.ResourceType.Discount:return s(e,c);case r.Redirect.ResourceType.Customer:return a(e,c)}},t.getProductUrl=n,t.getCollectionUrl=i,t.getDiscountUrl=s,t.getCustomerUrl=a,t.getOrderUrl=u},"./node_modules/@shopify/app-bridge-host/components/Navigation/utilities/resolver.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withQueryParams=t.resolver=t.APPS_URL=t.ROOT_URL=void 0,t.ROOT_URL="/admin",t.APPS_URL=t.ROOT_URL+"/apps";var r=t.ROOT_URL+"/discounts",n=t.ROOT_URL+"/collections",i=t.ROOT_URL+"/customers",s=t.ROOT_URL+"/orders",a=t.ROOT_URL+"/draft_orders",u=t.ROOT_URL+"/products";function c(e,t){return t&&Object.keys(t).length?e+"?"+Object.keys(t).map((function(e){return"object"==typeof t[e]?e+"[]="+t[e]:e+"="+t[e]})).join("&"):e}t.resolver={home:function(e){return c("/admin",e)},apps:function(e){return c(t.APPS_URL,e)},app:function(e,t){return"/admin/apps/"+e+(t||"")},orderIndex:function(e){return c(s,e)},orderShow:function(e,t){return c(s+"/"+e,t)},orderNew:function(e){return c(a+"/new",e)},discountIndex:function(e){return c(""+r,e)},discountShow:function(e,t){return c(r+"/"+e,t)},discountNew:function(e){return c(r+"/new",e)},collectionIndex:function(e){return c(n,e)},collectionShow:function(e,t){return c(n+"/"+e,t)},collectionNew:function(e){return c(n+"/new",e)},productIndex:function(e){return c(u,e)},productDetails:function(e,t){return c(u+"/"+e,t)},productNew:function(e){return c(u+"/new",e)},customerIndex:function(e){return c(i,e)},customerShow:function(e,t){return c(i+"/"+e,t)},customerCreate:function(e){return c(i+"/new",e)},productVariantDetails:function(e,t,o){return c(u+"/"+e+"/variants/"+t,o)},productVariantNew:function(e,t){return c(u+"/"+e+"/variants/new",t)}},t.withQueryParams=c,t.default=t.resolver},"./node_modules/@shopify/app-bridge-host/components/utilities/appUrl.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeRelativePath=t.buildAppUrl=void 0;var r=o("./node_modules/@shopify/app-bridge-host/components/Navigation/utilities/resolver.js");t.buildAppUrl=function(e){var t=e.handle,o=e.url,n=e.apiKey,i=e.pathname,s=e.search,a=void 0===s?void 0:s,u=new URL(o),c=new URL(i,u.origin).pathname.replace(new RegExp(r.APPS_URL+"/("+t+"|"+n+")"),"");return""!==c&&"/"!==c&&(u.pathname=c),void 0!==a&&(u.search=a),u},t.normalizeRelativePath=function(e){return"/"===e[0]?e:"/"+e}},"./node_modules/@shopify/react-compose/index.esnext":function(e,t,o){"use strict";o.r(t);var r=o("./node_modules/@shopify/react-compose/build/esnext/index.esnext");o.d(t,"default",(function(){return r.a}))}}]);