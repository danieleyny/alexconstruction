(self.webpackJsonp=self.webpackJsonp||[]).push([["AppBridgeClient"],{"./app/components/AppBridgeHost/AppInitialize/index.ts":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return o}));var s=a("./node_modules/react/index.js"),i=a("./node_modules/@shopify/app-bridge-host/index.js"),n=a("./node_modules/@shopify/app-bridge/actions/index.js"),p=a("./app/utilities/useAppLoadTracking/useAppLoadTracking.ts");function o(){const e=Object(i.useHostContext)(),{markSuccessfulLoad:t}=Object(p.a)();return Object(s.useEffect)((()=>{const{app:a,config:s}=e,{apiClientId:i,apiKey:p,handle:o}=s;return a.subscribe(n.Client.Action.INITIALIZE,(()=>{t({apiClientId:i,apiKey:p,appHandle:o})}))}),[e]),null}},"./app/components/AppBridgeHost/Client/index.ts":function(e,t,a){"use strict";a.r(t);var s=a("./node_modules/@shopify/app-bridge-host/components/Client.js"),i=a.n(s);t.default=i.a},"./app/utilities/useAppLoadTracking/useAppLoadTracking.ts":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var s=a("./node_modules/react/index.js"),i=a("./node_modules/react-cookie/es6/useCookies.js"),n=a("./node_modules/uuid/index.js"),p=a("./packages/@web-utilities/monorail/producer.ts"),o=a("./packages/@web-utilities/staff-member/hook.ts"),d=a("./packages/@web-utilities/shop/hook.ts"),u=a("./packages/@web-utilities/session-id/index.ts");const c="appLoadId";function l(){const[e,t,a]=Object(i.a)([c]),{shopId:l}=Object(d.a)(),{userId:r,isShopOwner:f}=Object(o.a)(),b=Object(u.b)(),{produce:m}=Object(p.e)(),h=Object(s.useCallback)((()=>{setTimeout((()=>{a(c,{path:"/"})}),15e3)}),[a]),I=Object(s.useCallback)((({apiClientId:e,apiKey:t,appHandle:a,appLoadId:s,eventType:i,isSuccess:n})=>{m({schemaId:"apps_app_load/1.0",payload:{apiClientId:e,apiKey:t,appHandle:a,appLoadId:s,eventType:i,userId:Number(r),shopId:Number(l),accountOwner:f,sessionToken:b,isSuccess:n,loadTimestamp:(new Date).toISOString()}})}),[f,m,b,l,r]);return{markStartLoad:Object(s.useCallback)((({apiClientId:a,apiKey:s,appHandle:i})=>{const p=(null==e?void 0:e.appLoadId)||Object(n.v4)();return t(c,p,{path:"/",maxAge:150}),I({apiClientId:a,apiKey:s,appHandle:i,appLoadId:p,eventType:"APP_LOAD_ATTEMPT",isSuccess:!1}),h(),p}),[e,t,I,h]),markSuccessfulLoad:Object(s.useCallback)((({apiClientId:t,apiKey:s,appHandle:i})=>{const p=(null==e?void 0:e.appLoadId)||Object(n.v4)();I({apiClientId:t,apiKey:s,appHandle:i,appLoadId:p,eventType:"SUCCESSFUL_LOAD",isSuccess:!0}),a(c,{path:"/"})}),[e,I,a]),markFailedLoad:Object(s.useCallback)((({reason:t,apiClientId:s,apiKey:i,appHandle:p,appLoadId:o})=>{I(o?{apiClientId:s,apiKey:i,appHandle:p,appLoadId:o,eventType:t,isSuccess:false}:{apiClientId:s,apiKey:i,appHandle:p,appLoadId:(null==e?void 0:e.appLoadId)||Object(n.v4)(),eventType:t,isSuccess:false}),a(c,{path:"/"})}),[e,a,I])}}},"./node_modules/@shopify/app-bridge-host/components/Client.js":function(e,t,a){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var i=s(a("./node_modules/@shopify/react-compose/index.esnext")),n=s(a("./node_modules/@shopify/app-bridge-host/components/utilities/withStatelessFeature.js"));function p(){return null}t.Client=p,t.default=i.default(n.default("client"))(p)},"./node_modules/@shopify/app-bridge-host/components/utilities/withStatelessFeature.js":function(e,t,a){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(a("./node_modules/@shopify/app-bridge-host/withFeature.js"));t.default=function(e,t){return i.default({actions:t||{},key:e,initialState:{},reducer:function(e){return e||{}}})}},"./node_modules/@shopify/react-compose/index.esnext":function(e,t,a){"use strict";a.r(t);var s=a("./node_modules/@shopify/react-compose/build/esnext/index.esnext");a.d(t,"default",(function(){return s.a}))}}]);