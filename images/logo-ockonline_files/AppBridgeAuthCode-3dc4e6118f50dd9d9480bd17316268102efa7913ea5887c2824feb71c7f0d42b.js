(self.webpackJsonp=self.webpackJsonp||[]).push([["AppBridgeAuthCode"],{"./app/components/AppBridgeHost/AuthCode/index.ts":function(e,i,t){"use strict";t.r(i),t.d(i,"default",(function(){return m}));var n=t("./node_modules/react/index.js"),a=t("./node_modules/@shopify/react-compose/build/esnext/index.esnext"),d=t("./node_modules/@shopify/app-bridge/actions/index.js"),o=t("./node_modules/@shopify/app-bridge-host/features/authCode.js"),s=t.n(o),u=t("./node_modules/@shopify/app-bridge-host/index.js"),r=t("./node_modules/@shopify/react-graphql/build/esnext/hooks/mutation.esnext"),l=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"GenerateAuthCode"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"appId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ID"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"adminGenerateAuthorizationCode"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"appId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"appId"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"authorizationCode"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"code"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hmac"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"userErrors"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"field"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"message"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":185,"source":{"body":"mutation GenerateAuthCode($appId:ID!){adminGenerateAuthorizationCode(appId:$appId){authorizationCode{code hmac shop timestamp __typename}userErrors{field message __typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"d90b2ac5f3f975831573eadf6c4722b256b5e52024f8d89ccf3e9462a22fb1d5"}');var m=Object(a.a)(s.a)((function({actions:e}){const i=Object(u.useHostContext)(),t=Object(r.a)(l),a=Object(n.useCallback)((async e=>{var n;const a=await t({variables:{appId:null==i?void 0:i.config.appId,...e}}),d=null==a||null===(n=a.data)||void 0===n?void 0:n.adminGenerateAuthorizationCode;return d&&d.authorizationCode&&!d.userErrors.length?{code:d.authorizationCode.code,hmac:d.authorizationCode.hmac,shop:d.authorizationCode.shop,timestamp:d.authorizationCode.timestamp}:void 0}),[i,t]);return Object(n.useEffect)((()=>{const{app:t}=i;return t.subscribe(d.AuthCode.Action.REQUEST,(async i=>{const t=await a(i);t?e.respond({...t,id:null==i?void 0:i.id,status:"needsExchange"}):e.respond((null==i?void 0:i.id)&&{status:"failure",id:null==i?void 0:i.id})}))}),[e,a,i]),null}))},"./node_modules/@shopify/app-bridge-host/components/utilities/withStatelessFeature.js":function(e,i,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0});var a=n(t("./node_modules/@shopify/app-bridge-host/withFeature.js"));i.default=function(e,i){return a.default({actions:i||{},key:e,initialState:{},reducer:function(e){return e||{}}})}},"./node_modules/@shopify/app-bridge-host/features/authCode.js":function(e,i,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0});var a=t("./node_modules/@shopify/app-bridge/actions/index.js"),d=n(t("./node_modules/@shopify/app-bridge-host/components/utilities/withStatelessFeature.js"));i.default=d.default("authCode",{respond:a.AuthCode.respond})}}]);